{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProjectsAll\\\\nft-marketplace\\\\client\\\\src\\\\components\\\\NFTCard.jsx\";\nimport { ethers } from 'ethers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NFTCard = ({\n  nft,\n  contract,\n  account,\n  onBuy\n}) => {\n  const handleBuy = async () => {\n    try {\n      const tx = await contract.buyNFT(nft.id, {\n        value: nft.price.toString() // sending correct value in wei\n      });\n      await tx.wait();\n      onBuy(); // refresh NFTs after buying\n      alert('NFT bought successfully!');\n    } catch (error) {\n      console.error(\"Buy Error:\", error);\n      alert(\"Buy failed: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"nft-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: nft.image,\n      alt: nft.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: nft.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: nft.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Price: \", ethers.utils.formatEther(nft.price), \" ETH\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), nft.seller.toLowerCase() !== account.toLowerCase() && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleBuy,\n      children: \"Buy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_c = NFTCard;\nexport default NFTCard;\nvar _c;\n$RefreshReg$(_c, \"NFTCard\");","map":{"version":3,"names":["ethers","jsxDEV","_jsxDEV","NFTCard","nft","contract","account","onBuy","handleBuy","tx","buyNFT","id","value","price","toString","wait","alert","error","console","message","className","children","src","image","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","description","utils","formatEther","seller","toLowerCase","onClick","_c","$RefreshReg$"],"sources":["C:/ProjectsAll/nft-marketplace/client/src/components/NFTCard.jsx"],"sourcesContent":["import { ethers } from 'ethers';\r\n\r\nconst NFTCard = ({ nft, contract, account, onBuy }) => {\r\n  const handleBuy = async () => {\r\n    try {\r\n      const tx = await contract.buyNFT(nft.id, {\r\n        value: nft.price.toString(), // sending correct value in wei\r\n      });\r\n      await tx.wait();\r\n      onBuy(); // refresh NFTs after buying\r\n      alert('NFT bought successfully!');\r\n    } catch (error) {\r\n      console.error(\"Buy Error:\", error);\r\n      alert(\"Buy failed: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"nft-card\">\r\n      <img src={nft.image} alt={nft.name} />\r\n      <h3>{nft.name}</h3>\r\n      <p>{nft.description}</p>\r\n      <p>Price: {ethers.utils.formatEther(nft.price)} ETH</p>\r\n\r\n      {/* Only show Buy button if not owned by user */}\r\n      {nft.seller.toLowerCase() !== account.toLowerCase() && (\r\n        <button onClick={handleBuy}>Buy</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NFTCard;\r\n"],"mappings":";AAAA,SAASA,MAAM,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,OAAO,GAAGA,CAAC;EAAEC,GAAG;EAAEC,QAAQ;EAAEC,OAAO;EAAEC;AAAM,CAAC,KAAK;EACrD,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,EAAE,GAAG,MAAMJ,QAAQ,CAACK,MAAM,CAACN,GAAG,CAACO,EAAE,EAAE;QACvCC,KAAK,EAAER,GAAG,CAACS,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAE;MAC/B,CAAC,CAAC;MACF,MAAML,EAAE,CAACM,IAAI,CAAC,CAAC;MACfR,KAAK,CAAC,CAAC,CAAC,CAAC;MACTS,KAAK,CAAC,0BAA0B,CAAC;IACnC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;MAClCD,KAAK,CAAC,cAAc,GAAGC,KAAK,CAACE,OAAO,CAAC;IACvC;EACF,CAAC;EAED,oBACEjB,OAAA;IAAKkB,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACvBnB,OAAA;MAAKoB,GAAG,EAAElB,GAAG,CAACmB,KAAM;MAACC,GAAG,EAAEpB,GAAG,CAACqB;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACtC3B,OAAA;MAAAmB,QAAA,EAAKjB,GAAG,CAACqB;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACnB3B,OAAA;MAAAmB,QAAA,EAAIjB,GAAG,CAAC0B;IAAW;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxB3B,OAAA;MAAAmB,QAAA,GAAG,SAAO,EAACrB,MAAM,CAAC+B,KAAK,CAACC,WAAW,CAAC5B,GAAG,CAACS,KAAK,CAAC,EAAC,MAAI;IAAA;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAGtDzB,GAAG,CAAC6B,MAAM,CAACC,WAAW,CAAC,CAAC,KAAK5B,OAAO,CAAC4B,WAAW,CAAC,CAAC,iBACjDhC,OAAA;MAAQiC,OAAO,EAAE3B,SAAU;MAAAa,QAAA,EAAC;IAAG;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACxC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACO,EAAA,GA5BIjC,OAAO;AA8Bb,eAAeA,OAAO;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}